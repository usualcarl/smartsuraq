# YouTube Quiz Generator

–≠—Ç–æ Django-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–∑–≤–æ–ª—è–µ—Ç:
1. **–°–∫–∞—á–∏–≤–∞—Ç—å –∞—É–¥–∏–æ** —Å YouTube-–≤–∏–¥–µ–æ.
2. **–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞—Ç—å –∞—É–¥–∏–æ** –≤ —Ç–µ–∫—Å—Ç —Å –ø–æ–º–æ—â—å—é –º–æ–¥–µ–ª–∏ [Whisper](https://github.com/openai/whisper).
3. **–ì–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Ç–µ—Å—Ç—ã** (Quiz) –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞, –∏—Å–ø–æ–ª—å–∑—É—è LLM-–º–æ–¥–µ–ª—å Qwen –æ—Ç DashScope (OpenAI —Å–æ–≤–º–µ—Å—Ç–∏–º—ã–π API).
4. **–°–æ–±–∏—Ä–∞—Ç—å –æ—Ç–≤–µ—Ç—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** –∏ —Ä–∞—Å—Å—á–∏—Ç—ã–≤–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç.
5. **–í—ã–¥–∞–≤–∞—Ç—å –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –ø–æ —Ç–µ–º–∞–º, –≤ –∫–æ—Ç–æ—Ä—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –æ—à–∏–±—Å—è.

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–§–æ—Ä–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏ YouTube-—Å—Å—ã–ª–∫–∏** ‚Äî –≤–≤–æ–¥–∏—à—å —Å—Å—ã–ª–∫—É –∏ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤.
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è** –∞—É–¥–∏–æ –≤ —Ç–µ–∫—Å—Ç.
- **–ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–∞** –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON (–≤–æ–ø—Ä–æ—Å—ã, –æ—Ç–≤–µ—Ç—ã, –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –≤–∞—Ä–∏–∞–Ω—Ç—ã).
- **–û—Ü–µ–Ω–∫–∞ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–∞** ‚Äî –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ/–Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã, –±–∞–ª–ª—ã.
- **–ü–µ—Ä—Å–æ–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –Ω–∞ –æ—Å–Ω–æ–≤–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ —Å –ø–æ–ª–µ–∑–Ω—ã–º–∏ —Å—Å—ã–ª–∫–∞–º–∏.

---

## –°—Ç–µ–∫ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏–π

- **Python 3.10+**
- **Django 4+**
- **yt-dlp** ‚Äî –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∞—É–¥–∏–æ —Å YouTube.
- **Whisper (OpenAI)** ‚Äî –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏.
- **DashScope Qwen LLM** ‚Äî –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–π.
- **PostgreSQL/MySQL/SQLite** ‚Äî –ª—é–±–∞—è –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–∞—è –ë–î Django.

---

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
```bash
git clone https://github.com/usualcarl/smartsuraq.git
cd smartsuraq
```

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
```

**–ü—Ä–∏–º–µ—Ä `requirements.txt`:**
```
Django>=4.0
yt-dlp
openai
whisper
ffmpeg-python
```

---

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
–°–æ–∑–¥–∞–π `.env` —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```
DASHSCOPE_API_KEY=your_api_key_here
```

---

### 4. –ú–∏–≥—Ä–∞—Ü–∏–∏ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
python manage.py migrate
```

---

### 5. –ó–∞–ø—É—Å–∫ —Å–µ—Ä–≤–µ—Ä–∞
```bash
python manage.py runserver
```
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –ø–µ—Ä–µ–π–¥–∏ –ø–æ –∞–¥—Ä–µ—Å—É: **http://127.0.0.1:8000/**

---

## üìÅ –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ–∞–π–ª—ã

- `views.py` ‚Äî –æ—Å–Ω–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ (—Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è, –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–µ—Å—Ç–æ–≤, –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—Ç–≤–µ—Ç–æ–≤).
- `models.py` ‚Äî –º–æ–¥–µ–ª–∏ `Quiz`, `Question`, `UserAnswer`.
- `forms.py` ‚Äî —Ñ–æ—Ä–º–∞ –¥–ª—è YouTube-—Å—Å—ã–ª–∫–∏ (`YouTubeLinkForm`).
- `templates/` ‚Äî HTML-—à–∞–±–ª–æ–Ω—ã: `index.html`, `quiz_detail.html`, `quiz_results.html`, `error.html`.

---

## –û—Å–Ω–æ–≤–Ω–æ–π –ø–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–≤–æ–¥–∏—Ç YouTube-—Å—Å—ã–ª–∫—É, –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤.
2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ:
   - –°–∫–∞—á–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ —Å –ø–æ–º–æ—â—å—é `yt-dlp`.
   - –ü—Ä–æ–≥–æ–Ω—è–µ—Ç –∞—É–¥–∏–æ —á–µ—Ä–µ–∑ `whisper` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–∞.
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç —Ç–µ—Å—Ç (JSON) —Å –ø–æ–º–æ—â—å—é Qwen API.
   - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ç–µ—Å—Ç –≤ –ë–î (`Quiz` + `Question`).
3. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –ø—Ä–æ—Ö–æ–¥–∏—Ç —Ç–µ—Å—Ç.
4. –ü–æ—Å–ª–µ –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤–∏–¥–∏—Ç:
   - **–û—Ü–µ–Ω–∫—É (–±–∞–ª–ª—ã).**
   - **–°–ø–∏—Å–æ–∫ –æ—à–∏–±–æ–∫.**
   - **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –∏ –ø–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏.**

---

## –ü—Ä–∏–º–µ—Ä –∫–æ–¥–∞ –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–∞
```python
quiz_data = generate_quiz(transcribed_text, num_questions=5, num_answers=4)
```
–†–µ–∑—É–ª—å—Ç–∞—Ç ‚Äî —Å–ø–∏—Å–æ–∫ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ —Ñ–æ—Ä–º–∞—Ç–µ:
```json
[
  {
    "type": "single_choice",
    "text": "–ß—Ç–æ —Ç–∞–∫–æ–µ HTTP?",
    "weight": 1,
    "subject": "Web",
    "answer1": "–ü—Ä–æ—Ç–æ–∫–æ–ª –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö",
    "answer2": "–Ø–∑—ã–∫ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è",
    "answer3": "–§—Ä–µ–π–º–≤–æ—Ä–∫",
    "answer4": "–°–£–ë–î",
    "correct_1_to_4": 1
  }
]
```

---

## –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–≥–æ—è–∑—ã—á–Ω–æ–π —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏.
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤–æ–ø—Ä–æ—Å–æ–≤ —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏.
- API-—ç–Ω–¥–ø–æ–∏–Ω—Ç –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤ –ø–æ —Å—Å—ã–ª–∫–µ (REST).
